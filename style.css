/* ===== Global base ===== */
*,
*::before,
*::after { box-sizing: border-box; }

/* ===== Layout: container & panels ===== */
.container{
  background:#eee;
  display:flex;
}

.container .left-panel,
.container .right-panel{
  position: sticky;
  top:70px;
  width:250px;
  height:calc(100vh - 70px);
  
}

.container .left-panel ul{ padding:10px 0; }

.container .left-panel ul li{
  list-style: none;
  display: flex;
  align-items: center;
  padding:.7rem 1rem;
  transition:.3s;
  border-radius:5px;
  cursor:pointer;
}
.container .left-panel ul li:hover{ background:#ddd; }

.container .left-panel ul li > p{ margin-left:10px; }

.container .left-panel ul li > i{ font-size:20px; color:slateblue; }
.container .left-panel ul li > i.fa-calendar-week{ color:tomato; }
.container .left-panel ul li i.fa-briefcase{ color:green; }
.container .left-panel ul li i.fa-star{ color:yellowgreen; }
.container .left-panel ul li i.fa-hands-helping{ color:indianred; }

.container .left-panel .footer-links{ padding:5px 1rem; }
.container .left-panel .footer-links a{
  text-decoration:none; color:#333; font-size:12px;
}

/* ===== Middle panel ===== */
.middle-panel{
  flex:1;
  display:flex;
  flex-direction: column;
  align-items:center;
}

/* 다크 모드에서 middle-panel 배경색 */
.dark-mode .middle-panel {
  background: #3a3a3a !important; /* 더 밝은 회색으로 변경하고 !important 추가 */
  min-height: 100vh; /* 전체 높이 확보 */
}

/* 다크 모드에서 container 배경도 명시적으로 설정 */
.dark-mode .container {
  background: #3a3a3a !important; /* middle-panel과 동일한 색상 */
}

/* ===== Stories ===== */
.middle-panel .story-section{
  display:flex;
  gap:12px;
  padding:1rem;
}

/* 카드 규격: 120px, 9:16 비율 */
.middle-panel .story-section .story{
  position:relative;
  flex:0 0 auto;
  width:120px;
  aspect-ratio:9 / 16;
  border-radius:14px;
  overflow:hidden;
  cursor:pointer;
  box-shadow:0 0 5px 5px #ddd;
  background:#fff;
}

/* 첫 번째 이미지 꽉 채우기 */
.middle-panel .story-section .story > img{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
  transition:.3s ease-in;
}
.middle-panel .story-section .story:hover > img{ transform:scale(1.05); }

/* 프로필 썸네일(동그라미) */
.middle-panel .story-section .story .dp-container{
  position:absolute;
  left:8px;
  bottom:28px;
  width:36px;
  height:36px;
  border-radius:50%;
  overflow:hidden;
  border:2px solid #fff;
  background:#fff;
}
.middle-panel .story-section .story .dp-container > img{
  width:100%; height:100%; object-fit:cover;
}

/* 이름 라벨 */
.middle-panel .story-section .story .name{
  position:absolute;
  left:8px; right:8px; bottom:6px;
  margin:0;
  padding:0 2px;
  color:#fff; font-weight:700; font-size:12px; line-height:1.2;
  text-shadow:0 1px 2px rgba(0,0,0,.45);
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden;
}

/* Create Story 카드 */
.middle-panel .story-section .story.create{ cursor:default; }
.middle-panel .story-section .story.create .dp-image,
.middle-panel .story-section .story.create .dp-image img{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; object-position:center;
}
.middle-panel .story-section .story.create .dp-container{
  left:50%; bottom:28px; transform:translateX(-50%);
  display:grid; place-items:center;
  background:royalblue; border:4px solid #fff;
}
.middle-panel .story-section .story.create .dp-container i{ color:#fff; }
.middle-panel .story-section .story.create .name{
  position:absolute; left:6px; right:6px; bottom:6px;
  text-align:center; color:#000; font-size:15px;
}

/* ===== Post card ===== */
.post{
  width:55%;
  background:#fff;
  border-radius:10px;
  padding:10px;
  margin:40px;
}

.post .post-top{
  display:flex;
  align-items:center;
  padding:10px;
}

.post .post-top .dp {
    width: 50px; /* 원의 크기 */
    height: 50px;
    border-radius: 50%;
    overflow: hidden; /* 둥근 영역 밖 이미지 숨김 */
}

.post .post-top .dp > img {
    width: 100%;
    height: 100%;
    cursor: pointer;
}
.post .post-top .post-info{ margin-left:10px; font-weight:bold; }
.post .post-top .post-info .name{ cursor:pointer; font-size:16px; }
.post .post-top .post-info .time{ font-size:12px; cursor:pointer; }

.post .post-top i{ margin-left:auto; cursor:pointer; }

.post .post-top > input{
  height:40px; padding:5px 10px; border-radius:25px;
  outline:none; border:none; flex:1; background:#eee; margin-left:10px;
}

.post .post-content{ font-size:16px; font-weight:normal; padding:10px; }
.post .post-content > img{ width:100%; margin:5px 0; }
.post-content img{
  border-radius: 8px;
}

/* box-shadow 오타 수정 → 상단 경계선 */
.post .post-bottom{
  border-top:1px solid #ddd;
  display:flex;
  justify-content:space-between;
  padding:5px 5px 0 5px;
}
.post .post-bottom .action{
  padding:10px; border-radius:10px; transition:.3s ease-in; cursor:pointer;
}
.post .post-bottom .action:hover{ background:#eee; }
.post.create .post-bottom > .action{ color:#d74; }

/* ===== Right panel ===== */
.container .right-panel{ padding:1rem; }
.right-panel .pages-section,
.right-panel .friends-section{ margin:1rem 0; }
.right-panel .pages-section h4,
.right-panel .friends-section h4{ margin-bottom:10px; }

.right-panel .pages-section .page,
.right-panel .friends-section .friend{
  display:flex; align-items:center;
  text-decoration:none; transition:.3s ease-in-out;
  border-radius:5px; padding:7px 10px; color:#333;
}
.right-panel .pages-section .page:hover,
.right-panel .friends-section .friend:hover{ background:#ddd; }

.right-panel .pages-section .page > .dp,
.right-panel .friends-section .friend > .dp{
  height:40px; width:40px; border-radius:50%; overflow:hidden; cursor:pointer;
}
.right-panel .pages-section .page > .dp > img,
.right-panel .friends-section .friend > .dp > img{ width:100%; }

.right-panel .pages-section .name,
.right-panel .friends-section .name{
  font-size:18px; cursor:pointer; margin-left:8px;
}

/* ===== Loading splash ===== */
#loading{
  position:fixed; inset:0;
  background:#fff;
  display:flex; align-items:center; justify-content:center;
  z-index:9999;
  transition:opacity .5s ease;
}
#loading.hidden{
  display:flex;            /* .hidden(display:none) 보다 우선 적용 */
  opacity:0;
  pointer-events:none;
}

/* wave text */
.wave-text{ color:rgb(24,119,242); }
.wave-text span{
  display:inline-block; font-size:9vw; animation:wave 2s ease-in-out infinite;
}
.wave-text span:nth-child(1){ animation-delay:0s; }
.wave-text span:nth-child(2){ animation-delay:.2s; }
.wave-text span:nth-child(3){ animation-delay:.4s; }
.wave-text span:nth-child(4){ animation-delay:.6s; }
.wave-text span:nth-child(5){ animation-delay:.8s; }
.wave-text span:nth-child(6){ animation-delay:1.0s; }
.wave-text span:nth-child(7){ animation-delay:1.2s; }
.wave-text span:nth-child(8){ animation-delay:1.4s; }

@keyframes wave{
  0%,100%{ transform:translateY(0); }
  50%{ transform:translateY(30px); }
}

/* 전역 hidden(다른 곳에서 사용 가능) */
.hidden{ display:none; }

/* ===== FB-like profile header (수정된 부분) ===== */
.fb-profile-block{ 
  margin:auto; 
  position:relative; 
  width:100%;
}

.cover-container img{
  width: 100%; /* 컨테이너 너비에 맞춤 */
  height: 100%; /* 컨테이너 높이에 맞춤 */
  object-fit: cover; /* 이미지 비율을 유지하며 컨테이너를 완전히 덮도록 조정하고 넘치는 부분은 잘라냄 */
  object-position: center 40%; /* 이미지의 중앙 상단 부분을 보이도록 조정 */
}
.fb-profile-block-thumb{
  display:block; height:450px; overflow:hidden; position:relative; text-decoration:none;
}
.profile-img a{
  position:absolute; left:15px; bottom:-60px; display:block; /* bottom을 -60px로 변경 */
  height:200px; width:160px; padding:1px; box-shadow:none; z-index:9;
  background:transparent; /* 검은색 배경 제거 */
}
.profile-img img{
  background:#fff; border-radius:2px; box-shadow:0 1px 1px rgba(0,0,0,.07);
  height:158px; width:158px; padding:5px;
}
.profile-name{ position:absolute; left:210px; bottom:44px; } /* 메뉴 높이만큼 위로 조정 */
.profile-name h2{
  color:#333; font-size:24px; font-weight:600; line-height:30px; /* 색상을 검은색으로 변경 */
  max-width:275px; text-transform:uppercase; position:relative;
}

/* 다크 모드에서 profile-name 색상 변경 */
.dark-mode .profile-name h2 {
  color: #ffffff !important; /* 다크 모드에서 흰색으로 변경 */
}
.fb-profile-block-menu{ 
  height:44px; 
  position:relative; 
  width:100%; 
  overflow:hidden;
  margin-top: 50px; /* 메뉴를 적당히 아래로 이동 */
}
.block-menu{ clear:right; padding-left:205px; }
.block-menu ul{ margin:0; padding:0; }
.block-menu ul li{ display:inline-block; }
.block-menu ul li a{
  float:left; padding:0 17px; height:42px; line-height:3;
  font-size:14px; font-weight:bold; white-space:nowrap; text-transform:capitalize;
  color:#4b4f56; border-right:1px solid #e9eaed;
  background-color: rgb(249, 249, 249);
}
.block-menu ul li:first-child a{ border-left:1px solid #e9eaed; }

.profile,
.container .left-panel .profile{
  background:url('./images/dp.jpg');
  height:30px; width:30px; background-size:cover; border-radius:50%; cursor:pointer;
}

/* ===== Modal ===== */
:root{
  --modal-w: clamp(280px, 48vw, 560px);
  --modal-ratio: 4 / 5; /* 필요시 1/1, 16/9 등 변경 */
}

.modal{
  position:fixed; inset:0;
  display:none;
  align-items:center; justify-content:center;
  z-index:1000;
  
}
.modal.open{ display:flex; }

.modal-backdrop{
  position:absolute; inset:0;
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(2px);
}

.modal-dialog{
  position:relative;
  width:var(--modal-w);
  max-width:90vw; max-height:90vh;
  padding:12px 12px 8px;
  background:white;
  border-radius:16px;
  box-shadow:0 12px 30px rgba(0,0,0,.25);
  display:flex; flex-direction:column; gap:10px;
  animation:pop .18s ease-out;
  
}

/* 이미지 프레임 */
.modal-media{
  display:flex;
  flex-direction:column;
  width:100%;
  aspect-ratio:var(--modal-ratio);
  border-radius:14px;
  overflow:hidden;
  background:#fff;
  justify-content: center;
}
.modal-profile-con{
  overflow-y:hidden;
  height: 28%;
}
.modal-profile-con p{
margin-bottom: 3px;
font:bold;
}


/* 이미지 칸이 상단 전체 높이를 따라가게 */
.modal-img-con{

  width:auto;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  overflow:hidden;
  justify-content: center;
}
.modal-img{
  width:100%;
  height:100%;
  object-position: 50% 30%;
  display:block;
  object-fit:cover;
  /* border-bottom 제거! 상단 전체를 채우는 데 방해됨 */
}
.modal-img[src$="현성_profile.jpg"] { object-position: 50% 50%; }

/* 하단 영역: 내용만큼 높이, 아래에 붙게 */
.modal-review{
  flex:0 0 auto;          /* 내용 높이만 */
  margin-top:auto;        /* 남는 공간 밀어내서 바닥에 */
  padding:12px;
  border-top:1px solid #e5e7eb;
  height: 20%;
}

/* 프로필 정보 그리드 */
.modal-profile{ display:grid; grid-template-columns:3fr 2fr; gap:12px; height:100%; }
.modal-img-con{ height:100%; }
.modal-profile-con{ padding:8px; overflow:auto; }
.modal-profile-con .modal-field{ margin:6px 0; }

.modal-close{
  position:absolute; top:8px; right:8px;
  border:none; background:#000; color:#fff;
  width:32px; height:32px; border-radius:50%;
  font-size:20px; line-height:32px; cursor:pointer; opacity:.85;
}
.modal-close:hover{ opacity:1; }

@keyframes pop{
  from{ transform:translateY(6px) scale(.98); opacity:0; }
  to  { transform:translateY(0)  scale(1);   opacity:1; }
}

/* 클릭 가능 표시 */
.story{ cursor:pointer; }
.story.create{ cursor:default; }
/* 다크 모드 전역 변수 */
:root {
  --bg-primary: #ffffff;
  --bg-secondary: #eeeeee;
  --bg-tertiary: #f8f9fa;
  --text-primary: #333333;
  --text-secondary: #6c757d;
  --border-color: #dee2e6;
  --shadow: rgba(0, 0, 0, 0.1);
  --card-bg: #ffffff;
}

.dark-mode {
  --bg-primary: #0f0f0f;  /* 더 어두운 검은색으로 변경 */
  --bg-secondary: #2d2d2d;
  --bg-tertiary: #404040;
  --text-primary: #ffffff;
  --text-secondary: #b3b3b3;
  --border-color: #404040;
  --shadow: rgba(0, 0, 0, 0.3);
  --card-bg: #2d2d2d;
}

/* 전역 배경 및 텍스트 */
body {
  background-color: var(--bg-secondary); /* 다시 원래대로 */
  color: var(--text-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* 다크 모드에서 body 배경을 더 어둡게 */
.dark-mode body {
  background-color: #1a1a1a !important; /* 어두운 회색으로 변경하고 !important 추가 */
}

/* 컨테이너 다크 모드 */
.dark-mode .container {
  background: var(--bg-secondary);
}

/* 프로필 블록 다크 모드 */
.dark-mode .fb-profile-block {
  background: var(--card-bg);
}

.dark-mode .fb-profile-block-menu {
  border: 1px solid var(--border-color);
  background: var(--card-bg);
}

.dark-mode .block-menu ul li a {
  color: var(--text-primary);
  border-right: 1px solid var(--border-color);
}

.dark-mode .block-menu ul li:first-child a {
  border-left: 1px solid var(--border-color);
}

/* 포스트 카드 다크 모드 */
.dark-mode .post {
  background: var(--card-bg);
  box-shadow: 0 2px 8px var(--shadow);
  border: 1px solid var(--border-color);
}

.dark-mode .post .post-info .name {
  color: var(--text-primary);
}

.dark-mode .post .post-info .time {
  color: var(--text-secondary);
}

.dark-mode .post .post-content {
  color: var(--text-primary);
}

.dark-mode .post .post-bottom {
  border-top: 1px solid var(--border-color);
}

.dark-mode .post .post-bottom .action {
  color: var(--text-primary);
}

.dark-mode .post .post-bottom .action:hover {
  background: var(--bg-tertiary);
}

/* 스토리 카드 다크 모드 (변경 삭제) */
.dark-mode .story {
  /* 다크 모드에서 스토리 카드의 색상을 변경하지 않도록 기존 규칙 삭제 */
  box-shadow:0 0 5px 5px #ddd;
  border: none;
}

/* 모달 다크 모드 (변경 삭제) */
.dark-mode .modal-backdrop {
  background: rgba(0, 0, 0, 0.8);
}
.dark-mode .modal-dialog,
.dark-mode .modal-media,
.dark-mode .modal-review {
    /* 모달의 배경색을 변경하지 않음 */
    background: white; 
    border: none;
}
.dark-mode .modal-profile-con p,
.dark-mode .modal-review p {
    /* 모달 내 텍스트 색상을 검은색으로 고정 */
    color: #333333 !important;
}
.dark-mode .modal-close {
  background: #333333;
  color: #fff;
}


/* 로딩 화면 다크 모드 */
.dark-mode #loading {
  background: var(--bg-primary);
}

.dark-mode .wave-text {
  color: #4dabf7;
}

/* 왼쪽/오른쪽 패널 다크 모드 */
.dark-mode .container .left-panel,
.dark-mode .container .right-panel {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
}

.dark-mode .container .left-panel ul li {
  color: var(--text-primary);
}

.dark-mode .container .left-panel ul li:hover {
  background: var(--bg-tertiary);
}

.dark-mode .container .left-panel .footer-links a {
  color: var(--text-secondary);
}

.dark-mode .right-panel .pages-section .page,
.dark-mode .right-panel .friends-section .friend {
  color: var(--text-primary);
}

.dark-mode .right-panel .pages-section .page:hover,
.dark-mode .right-panel .friends-section .friend:hover {
  background: var(--bg-tertiary);
}

/* 스크롤바 다크 모드 (웹킷 브라우저) */
.dark-mode ::-webkit-scrollbar {
  width: 8px;
}

.dark-mode ::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

.dark-mode ::-webkit-scrollbar-thumb {
  background: var(--bg-tertiary);
  border-radius: 4px;
}

.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: var(--border-color);
}

/* 검색 결과 하이라이트 다크 모드 */
.dark-mode mark {
  background-color: #ffd43b;
  color: #000000;
  padding: 2px 4px;
  border-radius: 3px;
}

.search-results {
  /* 현재 700px으로 설정되어 있는 이 값을 더 큰 값으로 변경 */
  max-width: 1500px; 
  margin: 0 auto;
}


.fb-profile-block-menu {
/*   border: 1px solid #ccc; */
  padding: 10px; /* 경계선과 내용 사이의 여백을 위해 추가 */
}
.block-menu {
  display: flex;
  flex-direction: column; /* 자식 요소들을 세로로 정렬 */
  justify-content: center; /* 수직(세로) 방향으로 중앙 정렬 */
  align-items: flex-start; /* 수평(가로) 방향으로 시작점(왼쪽)에 정렬 */
  height: 100%;
}
.block-menu ul li a {
  display: block; /* 링크를 블록 요소로 만들어 크기 조절이 가능하게 합니다. */
  color: #333; /* 글자색 */
  padding:0px  5px; /* 내부 여백으로 버튼 크기를 키웁니다. */
  border-radius: 25px; /* 모서리를 둥글게 만듭니다. */
  text-decoration: none; /* 링크 밑줄 제거 */
  text-align: center; /* 텍스트를 가운데 정렬합니다. */
  margin: 5px; /* 버튼 간의 간격 */
  transition: all 0.3s ease; /* 호버 효과를 부드럽게 만듭니다. */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* 은은한 그림자 효과 */
}

/* 마우스를 올렸을 때의 효과 */
.block-menu ul li a:hover {
  background-color: #e0e0e0; /* 배경색을 약간 어둡게 변경 */
  transform: translateY(-2px); /* 버튼을 살짝 위로 이동시켜 입체감을 줍니다. */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.25); /* 그림자를 더 진하게 만듭니다. */
}

#scrollTop {
  position: fixed;
  bottom: 20px;   /* 화면 아래에서 20px */
  right: 20px;    /* 화면 오른쪽에서 20px */
  background: #333;
  color: #fff;
  border: none;
  padding: 12px 15px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 18px;
  box-shadow: 0 4px 6px rgba(0,0,0,0.2);
  display: none; /* 기본적으로 숨김 */
  z-index: 9999;
  transition: background 0.3s;
}

#scrollTop:hover {
  background: #007bff;
}

.post-content img,
.post-content video,
.post-content iframe {
  max-width: 100%; /* 모든 미디어 요소가 부모 요소의 너비를 초과하지 않도록 설정 */
  height: auto;    /* 가로세로 비율을 유지하도록 높이를 자동으로 조절 */
  display: block;  /* 미디어가 독립된 블록 요소로 처리되도록 설정 */
  margin: 0 auto;  /* 중앙 정렬 */
}

/* 태블릿 화면 (768px 이하) - 기존 코드와 통합 */
@media (max-width: 768px) {
  /* ===== 기본 레이아웃 변경 ===== */
  .container {
    flex-direction: column;
    align-items: stretch;
  }

  .container .left-panel,
  .container .right-panel {
    position: static;
    width: 100%;
    height: auto;
    order: 2;
    margin-top: 20px;
  }

  .container .left-panel {
    order: 3;
  }

  .middle-panel {
    order: 1;
    width: 100%;
  }

  /* ===== 포스트 카드 조정 ===== */
  .post {
    width: 95%;
    margin: 20px auto;
  }

  /* ===== 스토리 섹션 조정 ===== */
  .middle-panel .story-section {
    overflow-x: auto;
    padding: 10px;
    gap: 8px;
  }

  .middle-panel .story-section .story {
    width: 100px;
    flex-shrink: 0;
    margin: 0;
  }

  /* ===== 프로필 블록 조정 ===== */
  .fb-profile-block-thumb {
    height: 250px;
  }

  .profile-img a {
    height: 120px;
    width: 120px;
    left: 10px;
    bottom: -40px;
  }

  .profile-img img {
    height: 118px;
    width: 118px;
  }

  .profile-name {
    left: 150px;
    bottom: 24px;
  }

  .profile-name h2 {
    font-size: 20px;
    line-height: 24px;
  }

  .fb-profile-block-menu {
    margin-top: 30px;
  }

  .block-menu {
    padding-left: 10px;
  }

  .block-menu ul {
    flex-wrap: wrap;
  }

  .block-menu ul li a {
    padding: 8px 12px;
    font-size: 12px;
    margin: 2px;
  }

  /* ===== 모달 조정 ===== */
  .modal-dialog {
    width: 95vw;
    max-width: 95vw;
    padding: 8px;
  }

  .modal-profile {
    grid-template-columns: 1fr;
    gap: 8px;
  }

  .modal-img-con {
    height: 250px;
  }

  /* ===== 기존 검색 결과 스타일 (유지) ===== */
  .search-results {
    padding: 15px;
    margin: 15px 0;
  }
  
  .search-results h2 {
    font-size: 18px;
  }
  
  mark.search-highlight {
    padding: 1px 2px;
    font-size: 14px;
  }

  /* ===== 다크 모드 태블릿 최적화 (통합) ===== */
  .dark-mode .container .left-panel,
  .dark-mode .container .right-panel {
    border: none;
    border-top: 1px solid var(--border-color);
  }

  .dark-mode .post {
    border-left: none;
    border-right: none;
    border-radius: 8px;
    margin: 20px auto;
    border: 1px solid var(--border-color);
  }

  .dark-mode .fb-profile-block-menu {
    border: 1px solid var(--border-color);
  }

  .dark-mode .block-menu ul li a {
    background: var(--card-bg);
    color: var(--text-primary);
    border: 1px solid var(--border-color);
  }

  .dark-mode .block-menu ul li a:hover {
    background: var(--bg-tertiary);
  }
}

/* 모바일 화면 (480px 이하) */
@media (max-width: 480px) {
  /* ===== 기본 레이아웃 ===== */
  .container {
    padding: 0;
  }

  .container .left-panel,
  .container .right-panel {
    padding: 10px;
    margin-top: 10px;
  }

  .middle-panel {
    padding: 0 5px;
  }

  /* ===== 포스트 카드 최적화 ===== */
  .post {
    width: 98%;
    margin: 10px auto;
    border-radius: 8px;
  }

  .post .post-content {
    padding: 8px;
    font-size: 14px;
  }

  .post .post-top {
    padding: 8px;
  }

  .post .post-top .dp {
    width: 40px;
    height: 40px;
  }

  .post .post-top .post-info .name {
    font-size: 14px;
  }

  .post .post-top .post-info .time {
    font-size: 11px;
  }

  .post .post-top > input {
    height: 35px;
    padding: 3px 8px;
    font-size: 12px;
    margin-left: 8px;
  }

  .post .post-bottom .action {
    padding: 8px;
    font-size: 12px;
  }

  /* ===== 스토리 섹션 모바일 최적화 ===== */
  .middle-panel .story-section {
    padding: 8px;
    gap: 6px;
  }

  .middle-panel .story-section .story {
    width: 80px;
  }

  .middle-panel .story-section .story .dp-container {
    width: 28px;
    height: 28px;
    left: 6px;
    bottom: 22px;
  }

  .middle-panel .story-section .story .name {
    font-size: 10px;
    bottom: 4px;
    left: 6px;
    right: 6px;
  }

  /* ===== 프로필 블록 모바일 최적화 ===== */
  .fb-profile-block-thumb {
    height: 180px;
  }

  .profile-img a {
    height: 100px;
    width: 100px;
    left: 8px;
    bottom: -30px;
  }

  .profile-img img {
    height: 98px;
    width: 98px;
    padding: 3px;
  }

  .profile-name {
    left: 120px;
    bottom: 18px;
  }

  .profile-name h2 {
    font-size: 16px;
    line-height: 20px;
    max-width: 200px;
  }

  .fb-profile-block-menu {
    margin-top: 20px;
    height: auto;
    min-height: 44px;
  }

  .block-menu {
    padding-left: 5px;
    height: auto;
  }

  .block-menu ul {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: flex-start;
  }

  .block-menu ul li {
    display: block;
    margin: 2px;
  }

  .block-menu ul li a {
    padding: 6px 10px;
    font-size: 11px;
    margin: 1px;
    min-height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    border-radius: 20px;
    float: none;
    line-height: 1.2;
  }

  /* ===== 로딩 화면 모바일 최적화 ===== */
  .wave-text span {
    font-size: 12vw;
  }

  /* ===== 사이드 패널 최적화 ===== */
  .container .left-panel ul li {
    padding: 0.5rem 0.8rem;
  }

  .container .left-panel ul li > p {
    margin-left: 8px;
    font-size: 14px;
  }

  .container .left-panel ul li > i {
    font-size: 18px;
  }

  .right-panel .pages-section,
  .right-panel .friends-section {
    margin: 0.5rem 0px;
  }

  .right-panel .pages-section .page,
  .right-panel .friends-section .friend {
    padding: 5px 8px;
  }

  .right-panel .pages-section .name,
  .right-panel .friends-section .name {
    font-size: 14px;
    margin-left: 6px;
  }

  .right-panel .pages-section .page > .dp,
  .right-panel .friends-section .friend > .dp {
    height: 35px;
    width: 35px;
  }

  /* ===== 모달 모바일 최적화 ===== */
  .modal-dialog {
    width: 98vw;
    max-width: 98vw;
    max-height: 95vh;
    padding: 6px;
  }

  .modal-media {
    aspect-ratio: 3 / 4;
  }

  .modal-img-con {
    height: 200px;
  }

  .modal-profile-con {
    height: auto;
    min-height: 100px;
    padding: 6px;
  }

  .modal-review {
    height: auto;
    min-height: 60px;
    padding: 8px;
  }

  .modal-close {
    width: 28px;
    height: 28px;
    font-size: 16px;
    line-height: 28px;
  }
}

/* 매우 작은 모바일 화면 (360px 이하) */
@media (max-width: 360px) {
  .post {
    width: 99%;
    margin: 8px auto;
  }

  .middle-panel .story-section .story {
    width: 70px;
  }

  .middle-panel .story-section .story .dp-container {
    width: 24px;
    height: 24px;
    left: 5px;
    bottom: 18px;
  }

  .middle-panel .story-section .story .name {
    font-size: 9px;
    bottom: 3px;
    left: 4px;
    right: 4px;
  }

  .profile-name h2 {
    font-size: 14px;
    line-height: 18px;
    max-width: 150px;
  }

  .block-menu ul li a {
    padding: 4px 8px;
    font-size: 10px;
    min-height: 32px;
  }

  .post .post-bottom .action {
    padding: 6px;
    font-size: 11px;
  }
}

/* 가로 방향 모바일 (landscape) - 개선된 버전 */
@media (max-width: 768px) and (orientation: landscape) {
  .fb-profile-block-thumb {
    height: 160px;
  }

  .profile-img a {
    height: 80px;
    width: 80px;
    bottom: -20px;
  }

  .profile-img img {
    height: 78px;
    width: 78px;
  }

  .profile-name {
    left: 100px;
    bottom: 12px;
  }

  .profile-name h2 {
    font-size: 14px;
    line-height: 18px;
  }

  .fb-profile-block-menu {
    margin-top: 15px;
  }

  .wave-text span {
    font-size: 8vw;
  }
}

/* 터치 디바이스를 위한 개선 (기존 코드와 충돌 방지) */
@media (hover: none) and (pointer: coarse) {
  .container .left-panel ul li,
  .right-panel .pages-section .page,
  .right-panel .friends-section .friend,
  .post .post-bottom .action {
    padding: 12px;
    min-height: 44px;
  }

  .middle-panel .story-section .story {
    margin: 0px 4px;
  }

  .block-menu ul li a {
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: manipulation; /* 터치 최적화 */
  }
}

/* 접근성 개선 - 고대비 모드 (기존 코드와 통합) */
@media (prefers-contrast: high) {
  .post,
  .story {
    border: 2px solid #000;
  }

  .dark-mode .post,
  .dark-mode .story {
    border: 2px solid #fff;
  }

  .block-menu ul li a {
    border: 2px solid currentColor;
  }
}

/* 애니메이션 감소 설정 (기존 코드와 통합) */
@media (prefers-reduced-motion: reduce) {
  .container .left-panel ul li,
  .post .post-bottom .action,
  .middle-panel .story-section .story > img,
  .wave-text span,
  .block-menu ul li a {
    transition: none !important;
    animation: none !important;
  }

  @keyframes wave {
    0%, 100% { transform: none; }
  }
}

/* 다크 모드 선호도 자동 감지 (추가 기능) */
@media (prefers-color-scheme: dark) {
  .dark-mode mark.search-highlight {
    background-color: #ffa726;
    color: #000;
  }
}

/* 인쇄 스타일 (기존 코드와 통합) */
@media print {
  .container .left-panel,
  .container .right-panel,
  .middle-panel .story-section,
  #loading,
  .modal {
    display: none !important;
  }

  .post {
    background: white !important;
    box-shadow: none !important;
    border: 1px solid #000 !important;
    margin-bottom: 20px !important;
    break-inside: avoid;
    width: 100% !important;
  }

  .middle-panel {
    width: 100% !important;
  }

  .fb-profile-block {
    width: 100% !important;
  }

  .fb-profile-block-thumb {
    height: 200px !important;
  }
}

/* 고해상도 디스플레이 최적화 (추가 기능) */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .profile-img img,
  .post .post-top .dp img,
  .story .dp-container img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}
